---
title: shell 学习
author: 马福俊
date: '2022-11-16'
slug: shell学习
categories: []
tags:
  - 大数据
layout: post
math: no
---

#                                            大数据学习之shell

### 第一章shell 概述

- shell 是一个命令行解释器，它接受应用程序/用户命令程序，然后在调用回内核
- shell 还是一个功能强大的编程语言，易编写，易调试，灵活性强。

### 第二章shell脚本入门

- 脚本格式

```shell
#！/bin/bash
```

- 脚本的常用执行方式

  ```shell
  1.bash 脚本路径
  2.脚本路径下：./脚本名
  
```
  

### 第三章变量

- 常用的系统变量

  - $HOME $PWD $SHELL $USER $PATH等

- 自定义变量

  （1）定义变量：变量=值 

  （2）撤销变量：unset 变量

  （3）声明静态变量：readonly变量，注意：不能unset

- 变量定义规则

  （1）变量名称可以由字母、数字和下划线组成，但是不能以数字开头，环境变量名建议大写。

  （2）等号两侧不能有空格

  （3）在bash中，变量默认类型都是字符串类型，无法直接进行数值运算。

  （4）变量的值如果有空格，需要使用双引号或单引号括起来。

  注：export 可将变量升级全局变量

- 特殊变量

  - $n(n为数字，$0代表脚本名字，$1-$9代表第一个到第一个参数，10以上的参数${数字})。

  - $# (获取所有输入的参数，常用于循环)

  - $*  （功能描述：这个变量代表命令行中所有的参数，$*把所有的参数看成一个整体）

    $@ （功能描述：这个变量也代表命令行中所有的参数，不过$@把每个参数区分对待）

  - $？ （功能描述：最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行；如果这个变量的值为非0（具体是哪个数，由命令自己来决定），则证明上一个命令执行不正确了。）



### 第四章运算符

- 基本语法：$((运算式子)) 或者$[运算式]

### 第五章条件判断

- 基本判断 

  - （1）test condition

    （2）[ condition ]（注意condition前后要有空格）

  - 注意：条件非空即为true，[ atguigu ]返回true，[] 返回false。

- 条件判断

  - 两个整数之间比较：

    - = 字符串比较

      -lt 小于（less than）         -le 小于等于（less equal）

      -eq 等于（equal）           -gt 大于（greater than）

      -ge 大于等于（greater equal）  -ne 不等于（Not equal）

  - 按照文件权限进行判断

    - -r 有读的权限（read）        -w 有写的权限（write）

      -x 有执行的权限（execute）

  - 按照文件类型进行判断

    - -f 文件存在并且是一个常规的文件（file）

      -e 文件存在（existence）      -d 文件存在并是一个目录（directory）

### 第六章 流程控制

### 

- if 判断

  ```shell
  if [条件判断式]；then
  	程序
  fi
  或者
  if [条件判断式]
  	then
  	 程序
  elif [条件判断式]
  	then
  	程序
  elif [条件判断式]
  	then
  	 程序
  else
  	程序
  fi
  ```

  - 注意（1）[ 条件判断式 ]，中括号和条件判断式之间必须有空格

    （2）if后要有空格

- case语句

  ```shell
  case $变量名 in
  "值一")
  如果变量的值等于1，则程序执行程序1
  ;;
  "值二")
  如果变量的值等于2，则程序执行程序2
  ;;
  "值二")
  如果变量的值等于2，则程序执行程序2
  *)
  如果变量都不是以上的值，只执行此程序
  ;;
  esac
  ```

  - 注意：注意事项：

    （1）case行尾必须为单词“in”，每一个模式匹配必须以右括号“）”结束。

    （2）双分号“**;;**”表示命令序列结束，相当于java中的break。

    （3）最后的“*）”表示默认模式，相当于java中的default。

- for 循环

  ```shell
  for (( 初始值;循环控制条件;变量变化 )) 
    do 
      程序 
    done
    
  或者
  for 变量 in 值1 值2 值3… 
    do 
      程序 
    done
  
  ```

- while循环

  ```shell
  while [ 条件判断式 ] 
    do 
      程序
    done
  ```

  

### 第七章 read 读取控制台输入

- 基本语法

  ```shell
  read(选项)(参数)
  选项：
  -p：指定读取值时的提示符；
  -t：指定读取值时等待的时间（秒）。
  参数
  	变量：指定读取值的变量名
  
  ```

### 第八章 函数

- 系统的函数
  - basename：basename [string / pathname] [suffix]     （功能描述：basename命令会删掉所有的前缀包括最后一个（‘/’）字符，然后将字符串显示出来。
  - dirname（获取路径）： dirname 文件绝对路径    （功能描述：从给定的包含绝对路径的文件名中去除文件名（非目录的部分），然后返回剩下的路径（目录的部分））
- 自定义函数
- 